package configuration

import org.junit.jupiter.api.Assertions.assertEquals
import org.junit.jupiter.api.Assertions.assertTrue
import org.junit.jupiter.api.Test

class TestReadConfig {
    @Test
    fun testRead() {
        val readConfig = ReadConfig()
        readConfig.getJsonDataFromAsset()
        val configs = readConfig.getConfigClasses()
        assertEquals(3, configs.size)
    }

    @Test
    fun testCaseClass() {
        val readConfig = ReadConfig()
        val map = mutableMapOf<String, Boolean>()
        map["camelCaseApproved"] = true
        var config = Config(map)
        val camelCase = readConfig.defineCaseClass(config)
        assertTrue(camelCase is CamelCase)
        map["camelCaseApproved"] = false
        config = Config(map)
        val snakeCase = readConfig.defineCaseClass(config)
        assertTrue(snakeCase is SnakeCase)
    }

    @Test
    fun testPrintClass() {
        val readConfig = ReadConfig()
        val map = mutableMapOf<String, Boolean>()
        map["printWithOperation"] = true
        var config = Config(map)
        val printOperations = readConfig.definePrintClass(config)
        assertTrue(printOperations is PrintOperations)
        map["printWithOperation"] = false
        config = Config(map)
        val printNormal = readConfig.definePrintClass(config)
        assertTrue(printNormal is PrintNormal)
    }

    @Test
    fun testReadInputClass() {
        val readConfig = ReadConfig()
        val map = mutableMapOf<String, Boolean>()
        map["readInputWithOperation"] = true
        var config = Config(map)
        val readInputWithOperations = readConfig.defineReadInputClass(config)
        assertTrue(readInputWithOperations is ReadInputOperations)
        map["readInputWithOperation"] = false
        config = Config(map)
        val readInputWithNormal = readConfig.defineReadInputClass(config)
        assertTrue(readInputWithNormal is ReadInputNormal)
    }
}
